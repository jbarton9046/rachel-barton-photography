<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rachel Barton Photography | Sarasota Family & Lifestyle Photographer</title>

  <!-- Primary SEO -->
  <meta name="description" content="Candid, timeless, true-to-life family, maternity, newborn & portrait photography across Sarasota and Florida’s Gulf Coast — with a soft, whimsical touch." />
  <link rel="canonical" href="https://rachelsphotography.netlify.app/" />

  <!-- Social share -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Rachel Barton Photography" />
  <meta property="og:title" content="Rachel Barton Photography – Sarasota Family & Lifestyle" />
  <meta property="og:description" content="Joyful, candid photography in Sarasota, Siesta Key, Lido, Longboat Key, and beyond." />
  <meta property="og:url" content="https://rachelsphotography.netlify.app/" />
  <meta property="og:image" content="https://rachelsphotography.netlify.app/pictures/familyPortrait/Screenshot%202025-10-01%20133807.png?v=2" />
  <meta property="og:image:secure_url" content="https://rachelsphotography.netlify.app/pictures/familyPortrait/Screenshot%202025-10-01%20133807.png?v=2" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Rachel Barton Photography – Sarasota Family & Lifestyle" />
  <meta name="twitter:description" content="Joyful, candid photography in Sarasota, Siesta Key, Lido, Longboat Key, and beyond." />
  <meta name="twitter:image" content="https://rachelsphotography.netlify.app/pictures/familyPortrait/Screenshot%202025-10-01%20133807.png?v=2" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,400;9..144,600;9..144,700&family=Manrope:wght@300;400;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Preload hero image -->
  <link rel="preload" as="image" href="pictures/heroImage.jpg">

  <style>
    :root{
      --bg:#FAFAF8;
      --paper:#ffffff;
      --ink:#3e3e3a;
      --muted:#7a766e;
      --accent:#A88A5A;
      --accent-2:#E8DFC9;
      --line:#e9e6df;
      --butter-bar: rgba(255,248,238,0.92);
      --butter-stroke: rgba(0,0,0,0.04);
      --ring: rgba(168,138,90,.25);
      --shadow: 0 10px 30px rgba(0,0,0,.08);
      --radius:0;
      --gap:clamp(16px,3vw,32px);
      --maxw:1200px;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0; padding:0; background:var(--bg); color:var(--ink);
      font-family:"Source Sans 3", system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
      line-height:1.65; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    a{color:inherit; text-decoration:none; transition:color .15s ease, border-color .15s ease}
    a:hover, a:focus-visible{ color:var(--accent); outline:none }
    img{max-width:100%; height:auto; display:block; border-radius:0; border:1px solid var(--line); box-shadow:0 6px 18px rgba(0,0,0,.06)}
    .container{max-width:var(--maxw); margin:0 auto; padding:0 var(--gap)}

    /* HERO (not used on galleries page; left for consistency) */
    .hero{ display:none; }

    /* Top bar – brand hidden, centered nav (NOT sticky) */
    .topbar{
      position:relative; /* was sticky */
      left:0; right:0; top:0;
      display:flex; align-items:center; justify-content:center;
      padding:16px var(--gap); z-index:10; background:transparent;
    }
    .brand{display:none}
    nav.primary ul{display:flex; gap:28px; list-style:none; margin:0; padding:0; justify-content:center}
    nav.primary li{ position:relative; }
    nav.primary a{
      font-family:"Raleway", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight:500;
      font-size:clamp(16px,1.8vw,20px);
      letter-spacing:.02em;
      border-bottom:0;
      padding:4px 2px;
    }
    nav.primary a:hover, nav.primary a:focus-visible{
      color:var(--accent);
      border-bottom:0;
    }

    /* Dropdown (same floating text menu as index) */
    .has-sub{ position:relative; }
    .has-sub::after{ content:""; position:absolute; left:-8px; right:-8px; top:100%; height:12px; background:transparent; }
    .dropdown{
      position:absolute; top:calc(100% + 6px); left:50%; transform:translate(-50%,0);
      background:transparent; border:0; box-shadow:none;
      padding:0; display:flex; flex-direction:column; gap:6px; min-width:unset;
      opacity:0; visibility:hidden; pointer-events:none; transition:opacity .15s ease, transform .15s ease; z-index:3;
    }
    .has-sub:hover .dropdown, .has-sub:focus-within .dropdown, .dropdown:hover{
      opacity:1; visibility:visible; pointer-events:auto; transform:translate(-50%,2px);
    }
    .dropdown li{list-style:none}
    .dropdown a{
      font-family:"Cormorant Garamond","Playfair Display",Georgia,"Times New Roman",serif; font-weight:700;
      font-size:clamp(13px,1.65vw,15px); letter-spacing:.02em; line-height:1.05;
      padding:0; color:#3f3a33; border-bottom:0; white-space:nowrap; background:transparent;
    }
    .dropdown a:hover, .dropdown a:focus-visible{ color:var(--accent); outline:none; border-bottom:0; background:transparent; }

    /* Add space under navbar so dropdown never overlaps the section header */
    .nav-spacer{
      height:clamp(80px, 12vw, 160px);
    }

    section{padding:calc(var(--gap)*2) 0}
    .section-title{ font-family:"Cormorant Garamond","Playfair Display",Georgia,"Times New Roman",serif; font-size:clamp(24px,3.5vw,38px); margin:0 0 8px }
    .section-sub{color:#67635b; margin:0 0 22px}

    .mosaic{display:grid; grid-template-columns:repeat(3,1fr); gap:clamp(10px,1.6vw,16px)}
    .mosaic figure{margin:0}
    .mosaic .captioned.notch{position:relative; display:block}
    .mosaic .notch-figure{display:block; width:100%; aspect-ratio:4/5; background:transparent; border:1px solid transparent; box-shadow:0 6px 18px rgba(0,0,0,.06)}
    .mosaic .u-stroke{fill:none; stroke:#ecebea; stroke-width:1; vector-effect:non-scaling-stroke; stroke-linejoin:round}
    .mosaic .notch-box{position:absolute; bottom:0; left:50%; transform:translateX(-50%); display:flex; align-items:center; justify-content:center; pointer-events:none}
    .mosaic .cap-label{
      background:var(--accent-2); color:#5b5243; border:1px solid var(--line);
      padding:8px 14px; font-size:13px; letter-spacing:.08em; font-weight:600; white-space:nowrap; line-height:1.2;
      pointer-events:auto; transition:transform .15s ease, box-shadow .15s ease, background-color .15s ease
    }
    .mosaic .cap-label:hover{background:#e2d7bd; box-shadow:0 6px 18px rgba(0,0,0,.08); transform:translateY(-1px)}

    /* Buttons: black outline, turns gold on hover */
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      font-family:"Cormorant Garamond","Playfair Display",Georgia,"Times New Roman",serif;
      font-weight:700; letter-spacing:.02em;
      background:transparent; color:#3f3a33;
      border:1px solid rgba(0,0,0,.9);
      padding:10px 16px; border-radius:0;
      box-shadow:0 6px 18px rgba(0,0,0,.06);
      transition:background-color .15s ease,border-color .15s ease,box-shadow .15s ease,transform .15s ease,color .15s ease;
      text-decoration:none;
    }
    .btn:hover, .btn:focus-visible{
      color:var(--accent);
      border-color:var(--accent);
      background:#f9f6ef;
      transform:translateY(-1px);
      outline:none;
      box-shadow:0 10px 24px rgba(0,0,0,.08);
    }
    .btn:active{ transform:translateY(0); box-shadow:0 4px 12px rgba(0,0,0,.06); }

    /* Floating diamond arrows */
    #gallery-meadow .tile-nav,
    #gallery-family .tile-nav,
    #gallery-beach  .tile-nav{
      position:absolute; top:50%; transform:translateY(-50%) scale(.98);
      background:transparent !important; border:0 !important;
      width:56px; height:56px; display:grid; place-items:center;
      color:var(--accent);
      cursor:pointer; user-select:none; z-index:4;
      opacity:0; transition:opacity .2s ease, transform .2s ease, color .2s ease, box-shadow .2s ease; outline:none;
      padding:0;
    }
    #gallery-meadow:hover .tile-nav,
    #gallery-family:hover .tile-nav,
    #gallery-beach:hover  .tile-nav{ opacity:1; transform:translateY(-50%) scale(1); }
    #gallery-meadow .tile-prev, #gallery-family .tile-prev, #gallery-beach .tile-prev{ left:10px; }
    #gallery-meadow .tile-next, #gallery-family .tile-next, #gallery-beach .tile-next{ right:10px; }
    #gallery-meadow .tile-nav svg, #gallery-family .tile-nav svg, #gallery-beach .tile-nav svg{ width:22px; height:22px; display:block; position:relative; z-index:2 }
    #gallery-meadow .tile-nav:hover, #gallery-meadow .tile-nav:focus-visible,
    #gallery-family .tile-nav:hover, #gallery-family .tile-nav:focus-visible,
    #gallery-beach  .tile-nav:hover, #gallery-beach  .tile-nav:focus-visible{ color:#b79661; box-shadow:0 6px 18px rgba(0,0,0,.18); outline:none; }

    /* Frosted diamond plate + outline */
    #gallery-meadow .tile-nav::before,
    #gallery-family .tile-nav::before,
    #gallery-beach  .tile-nav::before{
      content:""; position:absolute; inset:0; margin:7px; transform:rotate(45deg);
      background:rgba(255,255,255,.22); -webkit-backdrop-filter:blur(7px) saturate(1.05); backdrop-filter:blur(7px) saturate(1.05);
      box-shadow:0 6px 18px rgba(0,0,0,.14); z-index:0;
    }
    #gallery-meadow .tile-nav::after,
    #gallery-family .tile-nav::after,
    #gallery-beach  .tile-nav::after{
      content:""; position:absolute; inset:0; margin:7px; transform:rotate(45deg);
      border:1.5px solid var(--accent); z-index:1; pointer-events:none;
    }
    #gallery-meadow .tile-nav:hover::before, #gallery-family .tile-nav:hover::before, #gallery-beach .tile-nav:hover::before,
    #gallery-meadow .tile-nav:focus-visible::before, #gallery-family .tile-nav:focus-visible::before, #gallery-beach .tile-nav:focus-visible::before{
      -webkit-backdrop-filter:blur(8px) saturate(1.08); backdrop-filter:blur(8px) saturate(1.08); box-shadow:0 8px 22px rgba(0,0,0,.16);
    }
    #gallery-meadow .tile-nav:hover::after, #gallery-family .tile-nav:hover::after, #gallery-beach .tile-nav:hover::after,
    #gallery-meadow .tile-nav:focus-visible::after, #gallery-family .tile-nav:focus-visible::after, #gallery-beach .tile-nav:focus-visible::after{
      border-color:#b79661;
    }

    /* Diamond dots */
    #gallery-meadow .tile-dots, #gallery-family .tile-dots, #gallery-beach .tile-dots{
      position:absolute; left:50%; transform:translateX(-50%); bottom:40px; display:flex; gap:8px; z-index:4; pointer-events:auto;
    }
    #gallery-meadow .tile-dots button, #gallery-family .tile-dots button, #gallery-beach .tile-dots button{
      position:relative; width:10px; height:10px; transform:rotate(45deg); border:1px solid var(--accent); background:transparent !important; border-radius:0; padding:0; cursor:pointer; opacity:.95;
      transition:transform .15s ease, background-color .15s ease, opacity .15s ease;
    }
    #gallery-meadow .tile-dots button::before, #gallery-family .tile-dots button::before, #gallery-beach .tile-dots button::before{
      content:""; position:absolute; inset:-2px; background:rgba(255,255,255,.18); -webkit-backdrop-filter:blur(5px) saturate(1.05); backdrop-filter:blur(5px) saturate(1.05); z-index:-1;
    }
    #gallery-meadow .tile-dots button.is-active::before, #gallery-family .tile-dots button.is-active::before, #gallery-beach .tile-dots button.is-active::before{ background:rgba(168,138,90,.22); }
    #gallery-meadow .tile-dots button:hover, #gallery-meadow .tile-dots button:focus-visible,
    #gallery-family .tile-dots button:hover, #gallery-family .tile-dots button:focus-visible,
    #gallery-beach .tile-dots button:hover, #gallery-beach .tile-dots button:focus-visible{ transform:rotate(45deg) scale(1.15); outline:none; }

    footer{border-top:1px solid var(--line); padding:28px 0; color:#7f7f7f; text-align:center}

    @media (max-width:960px){
      .mosaic{grid-template-columns:1fr 1fr}
      .nav-spacer{ height:clamp(72px, 14vw, 140px); }
    }
    @media (max-width:640px){
      .mosaic{grid-template-columns:1fr}
      .nav-spacer{ height:clamp(64px, 18vw, 120px); }
    }
  </style>
</head>
<body>
  <!-- Centered navbar with floating text dropdown -->
  <div class="topbar container">
    <div class="brand"></div>
    <nav class="primary" aria-label="Primary">
      <ul>
        <li><a href="/">Home</a></li>
        <li class="has-sub">
          <a href="/galleries.html" aria-haspopup="true" aria-expanded="false">Galleries</a>
          <ul class="dropdown" aria-label="Galleries submenu">
            <li><a href="/galleries/sibling-portrait.html">Sibling Portraits</a></li>
            <li><a href="/galleries/family-portrait.html">Family Portraits</a></li>
            <li><a href="/galleries/friend-portrait.html">Friend Portraits</a></li>
          </ul>
        </li>
        <li><a href="/about.html">About</a></li>
        <li><a href="#reviews">Reviews</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#book">Book</a></li>
      </ul>
    </nav>
  </div>

  <!-- Extra space so dropdown never overlaps the section header -->
  <div class="nav-spacer" aria-hidden="true"></div>

  <main id='content'>
    <div class="container">
      <section id="portfolio" aria-labelledby="portfolio-title">
        <h2 class="section-title" id="portfolio-title">Featured Galleries</h2>
        <p class="section-sub">From sunlit meadows to Gulf sunsets, explore the feel of a session—connection, motion, and easy, unposed energy.</p>

        <!-- Helper bar -->
        <div class="section-help" role="note" aria-label="Gallery navigation help" style="margin:10px 0 12px; font-size:13px; letter-spacing:.08em; text-transform:uppercase; color:#6e6a62; display:inline-flex; align-items:center; gap:8px; padding:6px 10px; background:#fff; border:1px solid var(--line); box-shadow:0 2px 8px rgba(0,0,0,.04);">
          <span class="help-ico" aria-hidden="true">ⓘ</span>
          Preview & navigate: click the tile or use the arrows to move through images. Select the label to view the full gallery.
        </div>

        <div class="mosaic" id="grid" style="margin-top:6px">
          <!-- LEFT -->
          <figure class="captioned notch" id="gallery-meadow" aria-label="Oona & Ivy – Meadow Light"
                  data-images='[
                    "pictures/oonaIvy/E26A0761.jpg",
                    "pictures/firstTileGal/E26A0671%20(2).jpg",
                    "pictures/firstTileGal/E26A0698.jpg",
                    "pictures/firstTileGal/E26A0699.jpg",
                    "pictures/firstTileGal/E26A0712.jpg",
                    "pictures/firstTileGal/E26A0718.jpg",
                    "pictures/firstTileGal/E26A0739.jpg",
                    "pictures/firstTileGal/E26A0753.jpg",
                    "pictures/firstTileGal/E26A0758.jpg",
                    "pictures/firstTileGal/E26A0759.jpg",
                    "pictures/firstTileGal/E26A0764.jpg"
                  ]'>
            <svg class="notch-figure" viewBox="0 0 800 1000" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
              <defs>
                <mask id="notchMask-3a">
                  <rect x="0" y="0" width="100%" height="100%" fill="white" />
                  <rect class="notchRect" x="260" y="920" width="280" height="80" fill="black" />
                </mask>
                <filter id="frameShadow-3a" x="-20%" y="-20%" width="140%" height="140%">
                  <feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="rgba(0,0,0,0.18)" />
                </filter>
              </defs>
              <image href="pictures/oonaIvy/E26A0761.jpg" x="0" y="0" width="800" height="1000"
                     preserveAspectRatio="xMidYMid slice" mask="url(#notchMask-3a)"></image>
              <g class="frameGroup" filter="url(#frameShadow-3a)">
                <path class="u-stroke framePath" d="M .5 .5 H 799.5 V 999.5 H .5 Z" />
                <rect class="u-stroke recessStroke" x="260" y="920" width="280" height="80" />
              </g>
            </svg>

            <button class="tile-nav tile-prev" type="button" aria-label="Previous">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M15 18L9 12l6-6"/></svg>
            </button>
            <button class="tile-nav tile-next" type="button" aria-label="Next">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
            </button>

            <div class="tile-dots" aria-label="Slide navigation" role="tablist"></div>

            <div class="notch-box">
              <a class="cap-label" href="/galleries/sibling-portrait.html">Sibling Portraits</a>
            </div>
          </figure>

          <!-- MIDDLE -->
          <figure class="captioned notch" id="gallery-family" aria-label="Family Portrait Gallery"
                  data-images='[
                    "pictures/familyPortrait/image5.jpg",
                    "pictures/secondTileGal/E26A2465-2%20(1).jpg",
                    "pictures/secondTileGal/E26A2470%20(1).jpg",
                    "pictures/secondTileGal/E26A2490%20(1).jpg",
                    "pictures/secondTileGal/E26A2507.jpg",
                    "pictures/secondTileGal/E26A2525%20(1).jpg",
                    "pictures/secondTileGal/E26A2547%20(1).jpg",
                    "pictures/secondTileGal/E26A2572.jpg",
                    "pictures/secondTileGal/E26A2595.jpg",
                    "pictures/secondTileGal/E26A2665.jpg",
                    "pictures/secondTileGal/E26A2704%20(1).jpg"
                  ]'>
            <svg class="notch-figure" viewBox="0 0 800 1000" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
              <defs>
                <mask id="notchMask-1">
                  <rect x="0" y="0" width="100%" height="100%" fill="white" />
                  <rect class="notchRect" x="260" y="920" width="280" height="80" fill="black" />
                </mask>
                <filter id="frameShadow-1" x="-20%" y="-20%" width="140%">
                  <feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="rgba(0,0,0,0.18)" />
                </filter>
              </defs>
              <image href="pictures/familyPortrait/image5.jpg" x="0" y="0" width="800" height="1000"
                     preserveAspectRatio="xMidYMid slice" mask="url(#notchMask-1)"></image>
              <g class="frameGroup" filter="url(#frameShadow-1)">
                <path class="u-stroke framePath" d="M .5 .5 H 799.5 V 999.5 H .5 Z" />
                <rect class="u-stroke recessStroke" x="260" y="920" width="280" height="80" />
              </g>
            </svg>

            <button class="tile-nav tile-prev" type="button" aria-label="Previous">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M15 18L9 12l6-6"/></svg>
            </button>
            <button class="tile-nav tile-next" type="button" aria-label="Next">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
            </button>

            <div class="tile-dots" aria-label="Slide navigation" role="tablist"></div>

            <div class="notch-box">
              <a class="cap-label" href="/galleries/family-portrait.html">Family Portraits</a>
            </div>
          </figure>

          <!-- RIGHT -->
          <figure class="captioned notch" id="gallery-beach" aria-label="Friend Portraits"
                  data-images='[
                    "pictures/thirdTileGal/E26A2022%20(1).jpg",
                    "pictures/thirdTileGal/E26A1931.jpg",
                    "pictures/thirdTileGal/E26A1938.jpg",
                    "pictures/thirdTileGal/E26A1944.jpg",
                    "pictures/thirdTileGal/E26A1945.jpg",
                    "pictures/thirdTileGal/E26A1986.jpg",
                    "pictures/thirdTileGal/E26A2017.jpg",
                    "pictures/thirdTileGal/E26A2047-2.jpg",
                    "pictures/thirdTileGal/E26A2106.jpg",
                    "pictures/thirdTileGal/E26A2226.jpg",
                    "pictures/thirdTileGal/E26A2245.jpg"
                  ]'>
            <svg class="notch-figure" viewBox="0 0 800 1000" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
              <defs>
                <mask id="notchMask-2">
                  <rect x="0" y="0" width="100%" height="100%" fill="white" />
                  <rect class="notchRect" x="260" y="920" width="280" height="80" fill="black" />
                </mask>
                <filter id="frameShadow-2" x="-20%" y="-20%" width="140%">
                  <feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="rgba(0,0,0,0.18)" />
                </filter>
              </defs>
              <image href="pictures/thirdTileGal/E26A2022%20(1).jpg" x="0" y="0" width="800" height="1000"
                     preserveAspectRatio="xMidYMid slice" mask="url(#notchMask-2)"></image>
              <g class="frameGroup" filter="url(#frameShadow-2)">
                <path class="u-stroke framePath" d="M .5 .5 H 799.5 V 999.5 H .5 Z" />
                <rect class="u-stroke recessStroke" x="260" y="920" width="280" height="80" />
              </g>
            </svg>

            <button class="tile-nav tile-prev" type="button" aria-label="Previous">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M15 18L9 12l6-6"/></svg>
            </button>
            <button class="tile-nav tile-next" type="button" aria-label="Next">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
            </button>

            <div class="tile-dots" aria-label="Slide navigation" role="tablist"></div>

            <div class="notch-box">
              <a class="cap-label" href="/galleries/friend-portrait.html">Friend Portraits</a>
            </div>
          </figure>
        </div>

        <div class="cta" style="margin-top:18px; display:flex; justify-content:center">
          <a class="btn" href="#book">Check availability</a>
        </div>
      </section>
    </div>
  </main>

  <footer>— S. Miller</footer>

  <!-- Layout: compute notch/label/dots (lifted) -->
  <script>
    (function(){
      const tiles = document.querySelectorAll('.mosaic .captioned.notch');
      if(!tiles.length) return;

      function updateTile(tile){
        const svg = tile.querySelector('svg.notch-figure');
        const notchRect = svg?.querySelector('.notchRect');
        const recessStroke = svg?.querySelector('.recessStroke');
        const label = tile.querySelector('.cap-label');
        const notchBox = tile.querySelector('.notch-box');
        if(!svg || !label || !notchRect || !recessStroke || !notchBox) return;

        const padCss = 4;     /* label padding in recess */
        const liftCss = 10;   /* lift notch/label up */
        const dotsGapCss = 14;/* space between notch and diamonds */

        const labelRect = label.getBoundingClientRect();
        const tileRect  = svg.getBoundingClientRect();

        const recessW_css = labelRect.width + padCss * 2;
        const recessH_css = labelRect.height + padCss * 2;

        const sx = 800 / tileRect.width;
        const sy = 1000 / tileRect.height;

        const recessW = recessW_css * sx;
        const recessH = recessH_css * sy;

        const recessX = ((tileRect.width - recessW_css) / 2) * sx;
        const recessY = 1000 - recessH - (padCss * sy) - (liftCss * sy);

        notchRect.setAttribute('x', recessX.toFixed(2));
        notchRect.setAttribute('y', recessY.toFixed(2));
        notchRect.setAttribute('width', recessW.toFixed(2));
        notchRect.setAttribute('height', recessH.toFixed(2));

        recessStroke.setAttribute('x', recessX.toFixed(2));
        recessStroke.setAttribute('y', recessY.toFixed(2));
        recessStroke.setAttribute('width', recessW.toFixed(2));
        recessStroke.setAttribute('height', recessH.toFixed(2));

        /* position label box (title) – lifted to match notch */
        notchBox.style.width = recessW_css + 'px';
        notchBox.style.height = recessH_css + 'px';
        notchBox.style.bottom = (padCss + liftCss) + 'px';
        notchBox.style.left = '50%';
        notchBox.style.transform = 'translateX(-50%)';

        /* diamonds (dots) just above the notch */
        const dotsWrap = tile.querySelector('.tile-dots');
        if(dotsWrap){
          dotsWrap.style.bottom = (padCss + recessH_css + dotsGapCss + liftCss) + 'px';
        }
      }

      function updateAll(){ tiles.forEach(t => updateTile(t)); }
      if (document.fonts && document.fonts.ready) {
        document.fonts.ready.then(()=>{ requestAnimationFrame(updateAll); });
      } else {
        window.addEventListener('load', updateAll);
      }
      window.addEventListener('resize', ()=>{ requestAnimationFrame(updateAll); });
      setTimeout(updateAll, 0);
    })();
  </script>

  <!-- Slider: tile #1 -->
  <script>
    (function(){
      const tile = document.getElementById('gallery-meadow');
      if(!tile) return;

      const imgEl = tile.querySelector('svg image');
      if(!imgEl) return;

      let list;
      try { list = JSON.parse(tile.getAttribute('data-images') || '[]'); } catch(e){ list = []; }
      if(!Array.isArray(list) || list.length <= 1) return;

      let idx = 0;

      // build dots
      const dotsWrap = tile.querySelector('.tile-dots');
      const dots = [];
      if(dotsWrap){
        for(let i=0;i<list.length;i++){
          const b = document.createElement('button');
          b.type = 'button';
          b.setAttribute('role','tab');
          b.setAttribute('aria-label','Go to slide ' + (i+1));
          b.addEventListener('click', (e)=>{ e.stopPropagation(); show(i); });
          dotsWrap.appendChild(b);
          dots.push(b);
        }
      }

      function updateDots(){
        if(!dots.length) return;
        dots.forEach((d,i)=>{
          if(i===idx){ d.classList.add('is-active'); d.setAttribute('aria-selected','true'); }
          else{ d.classList.remove('is-active'); d.removeAttribute('aria-selected'); }
        });
      }

      function show(i){
        idx = (i + list.length) % list.length;
        const src = list[idx];
        imgEl.setAttribute('href', src);
        imgEl.setAttributeNS('http://www.w3.org/1999/xlink','href', src);
        updateDots();
      }

      const prevBtn = tile.querySelector('.tile-prev');
      const nextBtn = tile.querySelector('.tile-next');
      if(prevBtn) prevBtn.addEventListener('click', e => { e.stopPropagation(); show(idx-1); });
      if(nextBtn) nextBtn.addEventListener('click', e => { e.stopPropagation(); show(idx+1); });

      tile.querySelector('svg.notch-figure')?.addEventListener('click', () => show(idx+1));

      updateDots();
    })();
  </script>

  <!-- Slider: tile #2 -->
  <script>
    (function(){
      const tile = document.getElementById('gallery-family');
      if(!tile) return;

      const imgEl = tile.querySelector('svg image');
      if(!imgEl) return;

      let list;
      try { list = JSON.parse(tile.getAttribute('data-images') || '[]'); } catch(e){ list = []; }
      if(!Array.isArray(list) || list.length <= 1) return;

      let idx = 0;

      const dotsWrap = tile.querySelector('.tile-dots');
      const dots = [];
      if(dotsWrap){
        for(let i=0;i<list.length;i++){
          const b = document.createElement('button');
          b.type = 'button';
          b.setAttribute('role','tab');
          b.setAttribute('aria-label','Go to slide ' + (i+1));
          b.addEventListener('click', (e)=>{ e.stopPropagation(); show(i); });
          dotsWrap.appendChild(b);
          dots.push(b);
        }
      }

      function updateDots(){
        if(!dots.length) return;
        dots.forEach((d,i)=>{
          if(i===idx){ d.classList.add('is-active'); d.setAttribute('aria-selected','true'); }
          else{ d.classList.remove('is-active'); d.removeAttribute('aria-selected'); }
        });
      }

      function show(i){
        idx = (i + list.length) % list.length;
        const src = list[idx];
        imgEl.setAttribute('href', src);
        imgEl.setAttributeNS('http://www.w3.org/1999/xlink','href', src);
        updateDots();
      }

      const prevBtn = tile.querySelector('.tile-prev');
      const nextBtn = tile.querySelector('.tile-next');
      if(prevBtn) prevBtn.addEventListener('click', e => { e.stopPropagation(); show(idx-1); });
      if(nextBtn) nextBtn.addEventListener('click', e => { e.stopPropagation(); show(idx+1); });

      tile.querySelector('svg.notch-figure')?.addEventListener('click', () => show(idx+1));

      updateDots();
    })();
  </script>

  <!-- Slider: tile #3 -->
  <script>
    (function(){
      const tile = document.getElementById('gallery-beach');
      if(!tile) return;

      const imgEl = tile.querySelector('svg image');
      if(!imgEl) return;

      let list;
      try { list = JSON.parse(tile.getAttribute('data-images') || '[]'); } catch(e){ list = []; }
      if(!Array.isArray(list) || list.length <= 1) return;

      let idx = 0;

      const dotsWrap = tile.querySelector('.tile-dots');
      const dots = [];
      if(dotsWrap){
        for(let i=0;i<list.length;i++){
          const b = document.createElement('button');
          b.type = 'button';
          b.setAttribute('role','tab');
          b.setAttribute('aria-label','Go to slide ' + (i+1));
          b.addEventListener('click', (e)=>{ e.stopPropagation(); show(i); });
          dotsWrap.appendChild(b);
          dots.push(b);
        }
      }

      function updateDots(){
        if(!dots.length) return;
        dots.forEach((d,i)=>{
          if(i===idx){ d.classList.add('is-active'); d.setAttribute('aria-selected','true'); }
          else{ d.classList.remove('is-active'); d.removeAttribute('aria-selected'); }
        });
      }

      function show(i){
        idx = (i + list.length) % list.length;
        const src = list[idx];
        imgEl.setAttribute('href', src);
        imgEl.setAttributeNS('http://www.w3.org/1999/xlink','href', src);
        updateDots();
      }

      const prevBtn = tile.querySelector('.tile-prev');
      const nextBtn = tile.querySelector('.tile-next');
      if(prevBtn) prevBtn.addEventListener('click', e => { e.stopPropagation(); show(idx-1); });
      if(nextBtn) nextBtn.addEventListener('click', e => { e.stopPropagation(); show(idx+1); });

      tile.querySelector('svg.notch-figure')?.addEventListener('click', () => show(idx+1));

      updateDots();
    })();
  </script>
</body>
</html>
